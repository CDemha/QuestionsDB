{% load static %}
{% load humanize %}

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>
        {% block title %}{% endblock %}
    </title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="{% static 'js/main.js' %}"></script>
    <link rel="stylesheet" href="{% static 'css/main.css' %}" type="text/css"/>
</head>
<body>
<div class="container">
    {% block pageheaders %}{% endblock %}

    <nav class="navigation">
        <div class="nav-container">
            <div class="navigation-links-container">
                {% url 'home_page' as home_url %}
                {% url 'login_page' as login_url %}
                {% url 'register_page' as register_url %}
                {% url 'profile_page' user.username as profile_url %}

                {% if request.get_full_path == home_url %}
                    <a class="current-page">Home</a>
                {% else %}
                    <a href="{% url 'home_page' %}">Home</a>
                {% endif %}
                ·
                <a href="">About</a>

            </div>
            {% if user.is_authenticated %}
                <div class="user-information-container">
                    {% if request.get_full_path == profile_url %}
                        <h3 class="special-welcome-header">Welcome, <a class="current-page">{{ user }}</a></h3>
                    {% else %}
                        <h3 class="special-welcome-header">Welcome,
                            <a href="{% url 'profile_page' user.username %}">{{ user }}</a></h3>
                    {% endif %}
                    <small class="special-last-login-header">Last login: {{ user.last_login }}</small>
                    <small class="special-logout-header">
                        <a class="logout-link-text" href="{% url 'logout_page' %}?redirect={{ request.get_full_path }}">Logout</a>
                    </small>
                </div>
            {% else %}
                <div class="user-nav-panel">
                    <div class="nav-panel-container">
                        {% if request.get_full_path == login_url %}
                            <a class="current-page">Login</a>
                        {% else %}
                            <a href="{% url 'login_page' %}?redirect={{ request.get_full_path }}">Login</a>
                        {% endif %} ·
                        {% if request.get_full_path == register_url %}
                            <a class="current-page">Register</a>
                        {% else %}
                            <a href="{% url 'register_page' %}">Register</a>
                        {% endif %}
                    </div>
                </div>
            {% endif %}
        </div>
        <hr class="header-sep">
    </nav>

    {% block pagecontent %}{% endblock %}

</div>
</body>
</html>